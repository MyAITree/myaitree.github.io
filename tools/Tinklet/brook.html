<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infinite Reading Flow Highlighter</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            overflow: hidden;
            cursor: none;
        }
        
        .container {
            max-width: 900px;
            width: 100%;
            background: white;
            border-radius: 12px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
            overflow: hidden;
            margin-top: 20px;
        }
        
        header {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            padding: 25px;
            text-align: center;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .content {
            padding: 30px;
        }
        
        .text-container {
            height: 300px;
            overflow-y: auto;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 8px;
            border-left: 4px solid #6a11cb;
            margin-bottom: 20px;
            position: relative;
        }
        
        .text-content {
            font-size: 1.2rem;
            line-height: 1.8;
        }
        
        .highlight {
            background-color: rgba(106, 17, 203, 0.2);
            border-radius: 4px;
            padding: 2px 0;
            transition: all 0.2s ease;
            box-shadow: 0 0 0 1px rgba(106, 17, 203, 0.3);
        }
        
        .controls {
            background: #f1f5ff;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 25px;
        }
        
        .control-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #444;
        }
        
        .slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        input[type="range"] {
            flex: 1;
            height: 8px;
            -webkit-appearance: none;
            background: #ddd;
            border-radius: 4px;
            outline: none;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #6a11cb;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        .value-display {
            min-width: 40px;
            text-align: center;
            font-weight: 600;
            color: #6a11cb;
        }
        
        .instructions {
            background: #e8f4fd;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            border-left: 4px solid #2196F3;
        }
        
        .instructions h3 {
            color: #0d47a1;
            margin-bottom: 10px;
        }
        
        .instructions ul {
            padding-left: 20px;
        }
        
        .instructions li {
            margin-bottom: 8px;
        }
        
        .status-bar {
            display: flex;
            justify-content: space-between;
            background: #f1f5ff;
            padding: 12px 20px;
            border-top: 1px solid #ddd;
            font-size: 0.9rem;
        }
        
        .cursor-visible {
            cursor: auto;
        }
        
        button {
            background: #6a11cb;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s;
        }
        
        button:hover {
            background: #5a0db3;
        }
        
        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .demo-text {
            margin-top: 20px;
            font-style: italic;
            color: #666;
            text-align: center;
        }
        
        .virtual-cursor {
            position: fixed;
            width: 20px;
            height: 20px;
            background: rgba(106, 17, 203, 0.7);
            border-radius: 50%;
            pointer-events: none;
            z-index: 10000;
            transform: translate(-50%, -50%);
            transition: transform 0.1s;
            box-shadow: 0 0 10px rgba(106, 17, 203, 0.5);
            display: none;
        }
        
        .virtual-cursor::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }
        
        .scroll-indicator {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.8rem;
            display: none;
        }
    </style>
</head>
<body>
    <div class="virtual-cursor" id="virtual-cursor"></div>
    
    <div class="container">
        <header>
            <h1>Infinite Reading Flow Highlighter</h1>
            <p class="subtitle">Smooth, continuous reading with infinite mouse movement</p>
        </header>
        
        <div class="content">
            <div class="controls">
                <div class="control-group">
                    <label for="sensitivity">Mouse Sensitivity</label>
                    <div class="slider-container">
                        <input type="range" id="sensitivity" min="1" max="10" value="5">
                        <span class="value-display" id="sensitivity-value">5</span>
                    </div>
                </div>
                
                <div class="control-group">
                    <label for="highlight-speed">Highlight Speed</label>
                    <div class="slider-container">
                        <input type="range" id="highlight-speed" min="1" max="10" value="5">
                        <span class="value-display" id="speed-value">5</span>
                    </div>
                </div>
                
                <div class="button-group">
                    <button id="start-btn">Start Reading Flow</button>
                    <button id="reset-btn">Reset</button>
                    <button id="toggle-cursor-btn">Show Cursor</button>
                </div>
            </div>
            
            <div class="text-container">
                <div class="scroll-indicator" id="scroll-indicator">Auto-scrolling...</div>
                <div class="text-content" id="text-content">
                    <p>Welcome to the Infinite Reading Flow Highlighter. This advanced tool helps you read long texts without interruption by providing a smooth, continuous highlight that flows through the text based on your mouse movement.</p>
                    
                    <p>Unlike traditional reading interfaces, this tool features infinite horizontal mouse movement. As you reach the edge of the screen, the system automatically resets your cursor position, allowing for uninterrupted reading flow. This means you can read for as long as you want without ever running out of screen space.</p>
                    
                    <p>The highlight moves at a pace determined by your mouse speed and the sensitivity settings. Move faster to progress more quickly through the text, or slower for a more measured reading experience. The virtual cursor provides visual feedback while keeping the actual cursor hidden for a distraction-free experience.</p>
                    
                    <p>This reading method is particularly useful for lengthy documents, academic papers, or any content where maintaining focus and reading rhythm is important. The continuous flow helps reduce eye fatigue and improves comprehension by providing a consistent visual guide.</p>
                    
                    <p>You can customize the experience using the sensitivity and speed controls. Find the settings that work best for your reading style and the type of content you're working with. The auto-scroll feature ensures you never lose your place, even during extended reading sessions.</p>
                    
                    <p>To get started, click "Start Reading Flow" and begin moving your mouse horizontally. Try different movement speeds to see how it affects the highlighting pace. Remember, you can always show the cursor again if you need to interact with other elements on the page.</p>
                </div>
            </div>
            
            <div class="instructions">
                <h3>How to Use</h3>
                <ul>
                    <li><strong>Click "Start Reading Flow"</strong> to begin infinite highlighting</li>
                    <li><strong>Move mouse horizontally</strong> to control reading speed and direction</li>
                    <li><strong>Infinite movement</strong> - cursor resets at screen edges for continuous reading</li>
                    <li><strong>Adjust sensitivity</strong> to change how mouse movement affects highlighting</li>
                    <li><strong>Adjust highlight speed</strong> to control the base progression rate</li>
                    <li><strong>Toggle cursor visibility</strong> as needed for other interactions</li>
                </ul>
            </div>
        </div>
        
        <div class="status-bar">
            <div>Status: <span id="status">Ready</span></div>
            <div>Progress: <span id="progress">0%</span></div>
            <div>Cursor: <span id="cursor-status">Hidden</span></div>
        </div>
    </div>
    
    <p class="demo-text">Move your mouse horizontally after starting the reading flow</p>

    <script>
        class InfiniteReadingFlow {
            constructor(containerId) {
                this.container = document.getElementById(containerId);
                this.textContainer = document.querySelector('.text-container');
                this.isActive = false;
                this.currentPosition = 0;
                this.totalChars = 0;
                this.sensitivity = 5;
                this.highlightSpeed = 5;
                this.lastMouseX = 0;
                this.cursorVisible = false;
                this.virtualCursor = document.getElementById('virtual-cursor');
                this.scrollIndicator = document.getElementById('scroll-indicator');
                this.autoScrollThreshold = 50; // Pixels from edge to trigger reset
                this.animationId = null;
                
                this.init();
            }
            
            init() {
                this.calculateTextLength();
                this.setupEventListeners();
                this.updateControls();
                this.hideSystemCursor();
            }
            
            calculateTextLength() {
                const text = this.container.textContent || this.container.innerText;
                this.totalChars = text.length;
            }
            
            setupEventListeners() {
                // Mouse movement with infinite scrolling
                document.addEventListener('mousemove', (e) => {
                    if (!this.isActive) return;
                    this.handleMouseMove(e);
                });
                
                // Control elements
                const sensitivitySlider = document.getElementById('sensitivity');
                const speedSlider = document.getElementById('highlight-speed');
                const startBtn = document.getElementById('start-btn');
                const resetBtn = document.getElementById('reset-btn');
                const toggleCursorBtn = document.getElementById('toggle-cursor-btn');
                
                sensitivitySlider.addEventListener('input', () => {
                    this.sensitivity = parseInt(sensitivitySlider.value);
                    document.getElementById('sensitivity-value').textContent = this.sensitivity;
                });
                
                speedSlider.addEventListener('input', () => {
                    this.highlightSpeed = parseInt(speedSlider.value);
                    document.getElementById('speed-value').textContent = this.highlightSpeed;
                });
                
                startBtn.addEventListener('click', () => {
                    this.startReadingFlow();
                });
                
                resetBtn.addEventListener('click', () => {
                    this.reset();
                });
                
                toggleCursorBtn.addEventListener('click', () => {
                    this.toggleCursor();
                });
            }
            
            handleMouseMove(e) {
                const deltaX = e.clientX - this.lastMouseX;
                
                // Calculate position change based on mouse movement and sensitivity
                const positionChange = (deltaX * this.sensitivity) / 10;
                
                // Update current position
                this.currentPosition += positionChange;
                
                // Ensure position stays within bounds
                this.currentPosition = Math.max(0, Math.min(this.totalChars, this.currentPosition));
                
                // Update highlight
                this.updateHighlight();
                
                // Update virtual cursor position
                this.updateVirtualCursor(e.clientX, e.clientY);
                
                // Check if we need to reset cursor position for infinite scrolling
                this.checkCursorReset(e.clientX, e.clientY);
                
                this.lastMouseX = e.clientX;
            }
            
            checkCursorReset(x, y) {
                const resetNeeded = 
                    x <= this.autoScrollThreshold || 
                    x >= window.innerWidth - this.autoScrollThreshold ||
                    y <= this.autoScrollThreshold || 
                    y >= window.innerHeight - this.autoScrollThreshold;
                
                if (resetNeeded) {
                    this.showScrollIndicator();
                    
                    // In a real application, we would use the Pointer Lock API
                    // For this demo, we'll simulate the effect by resetting the last mouse position
                    this.lastMouseX = window.innerWidth / 2;
                    
                    // Show a visual indicator that cursor has reset
                    setTimeout(() => {
                        this.hideScrollIndicator();
                    }, 1000);
                }
            }
            
            showScrollIndicator() {
                this.scrollIndicator.style.display = 'block';
            }
            
            hideScrollIndicator() {
                this.scrollIndicator.style.display = 'none';
            }
            
            updateVirtualCursor(x, y) {
                this.virtualCursor.style.left = x + 'px';
                this.virtualCursor.style.top = y + 'px';
            }
            
            updateHighlight() {
                // Clear any existing highlight
                this.container.innerHTML = this.container.innerHTML.replace(/<span class="highlight">|<\/span>/g, '');
                
                // Create a text node representation to find the right position
                const text = this.container.textContent || this.container.innerText;
                
                // Find the character at the current position
                const highlightStart = Math.floor(this.currentPosition);
                const highlightLength = 15 + this.highlightSpeed * 2;
                const highlightEnd = Math.min(this.totalChars, highlightStart + highlightLength);
                
                // Create highlighted text
                let highlightedText = '';
                if (highlightStart > 0) {
                    highlightedText += text.substring(0, highlightStart);
                }
                
                highlightedText += `<span class="highlight">${text.substring(highlightStart, highlightEnd)}</span>`;
                
                if (highlightEnd < this.totalChars) {
                    highlightedText += text.substring(highlightEnd);
                }
                
                // Update the container with the new HTML
                this.container.innerHTML = highlightedText;
                
                // Auto-scroll to keep highlighted text in view
                this.autoScrollToHighlight(highlightStart);
                
                // Update status
                this.updateStatus();
            }
            
            autoScrollToHighlight(charPosition) {
                // Calculate approximate pixel position of the highlight
                const approxPixels = (charPosition / this.totalChars) * this.textContainer.scrollHeight;
                
                // Smoothly scroll to position
                this.textContainer.scrollTo({
                    top: approxPixels - 100,
                    behavior: 'smooth'
                });
            }
            
            startReadingFlow() {
                this.isActive = true;
                this.currentPosition = 0;
                document.getElementById('status').textContent = 'Active - Move mouse horizontally';
                this.showVirtualCursor();
                this.updateHighlight();
            }
            
            reset() {
                this.isActive = false;
                this.currentPosition = 0;
                
                // Clear highlight
                this.container.innerHTML = this.container.innerHTML.replace(/<span class="highlight">|<\/span>/g, '');
                
                document.getElementById('status').textContent = 'Ready';
                this.hideVirtualCursor();
                this.updateStatus();
                
                // Reset scroll position
                this.textContainer.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            }
            
            toggleCursor() {
                this.cursorVisible = !this.cursorVisible;
                
                if (this.cursorVisible) {
                    this.showSystemCursor();
                    this.hideVirtualCursor();
                    document.getElementById('toggle-cursor-btn').textContent = 'Hide Cursor';
                } else {
                    this.hideSystemCursor();
                    if (this.isActive) {
                        this.showVirtualCursor();
                    }
                    document.getElementById('toggle-cursor-btn').textContent = 'Show Cursor';
                }
                
                document.getElementById('cursor-status').textContent = 
                    this.cursorVisible ? 'Visible' : 'Hidden';
            }
            
            hideSystemCursor() {
                document.body.classList.remove('cursor-visible');
            }
            
            showSystemCursor() {
                document.body.classList.add('cursor-visible');
            }
            
            showVirtualCursor() {
                this.virtualCursor.style.display = 'block';
            }
            
            hideVirtualCursor() {
                this.virtualCursor.style.display = 'none';
            }
            
            updateStatus() {
                const progress = Math.floor((this.currentPosition / this.totalChars) * 100);
                document.getElementById('progress').textContent = progress + '%';
                
                if (progress >= 95) {
                    document.getElementById('status').textContent = 'Complete';
                }
            }
            
            updateControls() {
                document.getElementById('sensitivity-value').textContent = this.sensitivity;
                document.getElementById('speed-value').textContent = this.highlightSpeed;
            }
        }

        // Initialize the application when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            new InfiniteReadingFlow('text-content');
        });
    </script>
</body>
</html>